[来源](https://www.nowcoder.com/discuss/726210555681300480?sourceSSR=search)

# 讲讲数据库一二三范式，bc范式，讲讲你觉得好的数据库表设计

## **1NF（第一范式，First Normal Form）**
**要求：**  
- 数据表中的每一列（属性）都必须是原子性（Atomic）的，不可再分。  
- 每个字段只能存储单一值，不能是集合、列表或其他复杂结构。  

**示例（不满足 1NF）**

| 订单ID | 客户名 | 商品 |
|--------|--------|---------|
| 1      | 张三   | 苹果,香蕉 |
| 2      | 李四   | 西瓜 |

**优化后（满足 1NF）：**

| 订单ID | 客户名 | 商品 |
|--------|--------|---------|
| 1      | 张三   | 苹果 |
| 1      | 张三   | 香蕉 |
| 2      | 李四   | 西瓜 |

---

## **2NF（第二范式，Second Normal Form）**
**要求：**
- **先满足 1NF**。  
- 所有非主键列必须**完全依赖于主键的全部字段**，不能只依赖于部分主键（**消除部分依赖**）。  
- 主要解决**部分依赖**的问题，即当一个表的主键是**组合键**时，非主键列不能只依赖其中一部分。

**示例（不满足 2NF）**

| 订单ID | 商品ID | 商品名 | 价格  | 客户ID | 客户名 |
| ---- | ---- | --- | --- | ---- | --- |
| 1    | 101  | 苹果  | 5   | 1001 | 张三  |
| 1    | 102  | 香蕉  | 3   | 1001 | 张三  |

这里的 **(订单ID, 商品ID)** 是主键，`商品名` 和 `价格` 只依赖于 `商品ID`，而不是整个 `(订单ID, 商品ID)` 组合键，造成**部分依赖**。

**优化后（拆分表）：**
### 订单表：
| 订单ID | 客户ID |
|--------|--------|
| 1      | 1001   |

### 商品表：
| 商品ID | 商品名 | 价格 |
|--------|--------|--------|
| 101    | 苹果   | 5      |
| 102    | 香蕉   | 3      |

### 订单详情表：
| 订单ID | 商品ID |
| ---- | ---- |
| 1    | 101  |
| 1    | 102  |

---

## **3NF（第三范式，Third Normal Form）**
**要求：**
- **先满足 2NF**。  
- 所有非主键列都**只能依赖于主键，而不能依赖于其他非主键列**（消除**传递依赖**）。  

**示例（不满足 3NF）**

| 客户ID | 客户名 | 客户地址 | 城市 | 邮编 |
|--------|--------|--------|--------|--------|
| 1001   | 张三   | 北京市朝阳区 | 北京 | 100000 |

这里 `邮编` 依赖于 `城市`，而 `城市` 依赖于 `客户地址`，导致**传递依赖**。

**优化后（拆分表）：**
### 客户表：
| 客户ID | 客户名 | 客户地址 |
|--------|--------|--------|
| 1001   | 张三   | 北京市朝阳区 |

### 城市表：
| 城市 | 邮编 |
|--------|--------|
| 北京   | 100000 |

---

## **BCNF（巴斯-科德范式，Boyce-Codd Normal Form）**
**要求：**
- **先满足 3NF**。  
- 在 3NF 的基础上，要求**所有候选键都必须是主属性**，不能出现**部分候选键依赖于非主键列**的情况。

**示例（不满足 BCNF）**

| 课程ID | 教师ID | 教师姓名 |
|--------|--------|--------|
| C001   | T001   | 王老师 |
| C002   | T002   | 李老师 |

这里 `教师ID` 是唯一的，它决定了 `教师姓名`，但 `课程ID` 也决定 `教师ID`，导致违反 BCNF。

**优化后（拆分表）：**
### 课程-教师表：
| 课程ID | 教师ID |
|--------|--------|
| C001   | T001   |
| C002   | T002   |

### 教师表：
| 教师ID | 教师姓名 |
|--------|--------|
| T001   | 王老师 |
| T002   | 李老师 |

---

# **总结**
- **1NF** 确保列的**原子性**。
- **2NF** 解决**部分依赖**问题，非主键列必须完全依赖主键。
- **3NF** 解决**传递依赖**问题，非主键列不能依赖其他非主键列。
- **BCNF** 进一步优化，要求所有候选键都是主属性。

在实际应用中，数据库设计要在**范式化**和**性能**之间找到平衡点，结合索引、分库分表、缓存等策略优化查询性能。

# mysql b+树讲讲，为什么b+树快



# 为什么ip层和tcp层要分两层


# 数组链表map栈队列使用的业务场景



# 算法[19. 删除链表的倒数第 N 个结点](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)
